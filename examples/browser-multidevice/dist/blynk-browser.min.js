(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Blynk=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var events=require("events");var util=require("util");if(!window.WebSocket){window.WebSocket=window.MozWebSocket}function ab2str(buf){return String.fromCharCode.apply(null,new Uint8Array(buf))}function str2ab(str){var buf=new ArrayBuffer(str.length);var bufView=new Uint8Array(buf);for(var i=0,strLen=str.length;i<strLen;i++){bufView[i]=str.charCodeAt(i)}return buf}exports.WsClient=function(options){var self=this;events.EventEmitter.call(this);var options=options||{};self.addr=options.addr||"blynk-cloud.com";self.port=options.port||8082;self.path=options.path||"/websockets";this.write=function(data){if(self.sock){self.sock.send(str2ab(data))}};this.connect=function(done){if(self.sock){self.sock.close()}try{self.sock=new WebSocket("ws://"+self.addr+":"+self.port+options.path);self.sock.binaryType="arraybuffer";self.sock.onopen=function(evt){done()};self.sock.onclose=function(evt){self.emit("end")};self.sock.onmessage=function(evt){var data=ab2str(evt.data);self.emit("data",data)};self.sock.onerror=function(evt){self.emit("end")}}catch(exception){console.log(exception)}};this.disconnect=function(){if(self.sock){self.sock.close();self.sock=null}}};util.inherits(exports.WsClient,events.EventEmitter)},{events:5,util:9}],2:[function(require,module,exports){(function(process){"use strict";var C={};function string_of_enum(e,value){for(var k in e)if(e[k]==value)return k;return"Unknown("+value+")"}function isEspruino(){if(typeof process==="undefined")return false;if(typeof process.env.BOARD==="undefined")return false;return true}function isNode(){return!isEspruino()&&(typeof module!=="undefined"&&"exports"in module)}function isBrowser(){return typeof window!=="undefined"}function needsEmitter(){return isNode()}function blynkHeader(msg_type,msg_id,msg_len){return String.fromCharCode(msg_type,msg_id>>8,msg_id&255,msg_len>>8,msg_len&255)}var MsgType={RSP:0,REGISTER:1,LOGIN:2,SAVE_PROF:3,LOAD_PROF:4,GET_TOKEN:5,PING:6,ACTIVATE:7,DEACTIVATE:8,REFRESH:9,TWEET:12,EMAIL:13,NOTIFY:14,BRIDGE:15,HW_SYNC:16,INTERNAL:17,SMS:18,PROPERTY:19,HW:20,REDIRECT:41,DEBUG_PRINT:55};var MsgStatus={OK:200,ILLEGAL_COMMAND:2,ALREADY_REGISTERED:4,INVALID_TOKEN:9};var BlynkState={CONNECTING:1,CONNECTED:2,DISCONNECTED:3};if(isBrowser()){var bl_browser=require("./blynk-browser.js");var events=require("events");var util=require("util")}else if(isNode()){var bl_node=require("./blynk-node.js");var events=require("events");var util=require("util")}if(isEspruino()){var EspruinoSerial=function(options){var self=this;var options=options||{};self.ser=options.serial||USB;self.conser=options.conser||Serial1;self.baud=options.baud||9600;this.write=function(data){self.ser.write(data)};this.connect=function(done){self.ser.setup(self.baud);self.ser.removeAllListeners("data");self.ser.on("data",function(data){self.emit("data",data)});if(self.conser){self.conser.setConsole()}done()};this.disconnect=function(){}};var EspruinoTCP=function(options){var self=this;var options=options||{};self.addr=options.addr||"blynk-cloud.com";self.port=options.port||8442;var net=require("net");this.write=function(data){if(self.sock){self.sock.write(data,"binary")}};this.connect=function(done){if(self.sock){self.disconnect()}console.log("Connecting to TCP:",self.addr,self.port);self.sock=net.connect({host:self.addr,port:self.port},function(){console.log("Connected");self.sock.on("data",function(data){self.emit("data",data)});self.sock.on("end",function(){self.emit("end","")});done()})};this.disconnect=function(){if(self.sock){self.sock=null}}};var BoardEspruinoPico=function(values){var self=this;this.init=function(blynk){self.blynk=blynk};this.process=function(values){switch(values[0]){case"pm":break;case"dw":var pin=Pin(values[1]);var val=parseInt(values[2]);pinMode(pin,"output");digitalWrite(pin,val);break;case"dr":var pin=Pin(values[1]);self.blynk.sendMsg(MsgType.HW,["dw",values[1],digitalRead(pin)]);break;case"aw":var pin=Pin(values[1]);var val=parseFloat(values[2]);pinMode(pin,"output");analogWrite(pin,val/255);break;case"ar":var pin=Pin(values[1]);self.blynk.sendMsg(MsgType.HW,["aw",values[1],4095*analogRead(pin)]);break;default:return null}return true}};var BoardEspruinoLinux=function(values){var self=this;this.init=function(blynk){self.blynk=blynk};this.process=function(values){switch(values[0]){case"pm":break;case"dw":var pin=Pin("D"+values[1]);var val=parseInt(values[2]);pinMode(pin,"output");digitalWrite(pin,val);break;case"dr":var pin=Pin("D"+values[1]);self.blynk.sendMsg(MsgType.HW,["dw",values[1],digitalRead(pin)]);break;case"aw":case"ar":break;default:return null}return true}}}var BoardDummy=function(){this.init=function(blynk){};this.process=function(values){switch(values[0]){case"pm":return true;case"dw":case"dr":case"aw":case"ar":console.log("No direct pin operations available.");console.log("Maybe you need to install mraa or onoff modules?");return true}}};var Blynk=function(auth,options){var self=this;if(needsEmitter()){events.EventEmitter.call(this)}this.auth=auth;var options=options||{};this.heartbeat=options.heartbeat||10*1e3;if(options.board){this.board=options.board}else if(isEspruino()){this.board=new BoardEspruinoPico}else if(isBrowser()){this.board=new BoardDummy}else{[bl_node.BoardMRAA,bl_node.BoardOnOff,BoardDummy].some(function(b){try{self.board=new b;return true}catch(e){return false}})}self.board.init(self);if(options.connector){this.conn=options.connector}else if(isEspruino()){this.conn=new EspruinoTCP(options)}else if(isBrowser()){this.conn=new bl_browser.WsClient(options)}else{this.conn=new bl_node.SslClient(options)}this.buff_in="";this.msg_id=1;this.vpins=[];this.profile=options.profile;this.VirtualPin=function(vPin){if(needsEmitter()){events.EventEmitter.call(this)}this.pin=vPin;self.vpins[vPin]=this;this.write=function(value){self.virtualWrite(this.pin,value)}};this.WidgetBridge=function(vPin){this.pin=vPin;this.setAuthToken=function(token){self.sendMsg(MsgType.BRIDGE,[this.pin,"i",token])};this.digitalWrite=function(pin,val){self.sendMsg(MsgType.BRIDGE,[this.pin,"dw",pin,val])};this.analogWrite=function(pin,val){self.sendMsg(MsgType.BRIDGE,[this.pin,"aw",pin,val])};this.virtualWrite=function(pin,val){self.sendMsg(MsgType.BRIDGE,[this.pin,"vw",pin].concat(val))}};this.WidgetTerminal=function(vPin){if(needsEmitter()){events.EventEmitter.call(this)}this.pin=vPin;self.vpins[vPin]=this;this.write=function(data){self.virtualWrite(this.pin,data)}};this.WidgetLCD=function(vPin){this.pin=vPin;this.clear=function(){self.virtualWrite(this.pin,"clr")};this.print=function(x,y,val){self.sendMsg(MsgType.HW,["vw",this.pin,"p",x,y,val])}};this.WidgetLED=function(vPin){this.pin=vPin;this.setValue=function(val){self.virtualWrite(this.pin,val)};this.turnOn=function(){self.virtualWrite(this.pin,255)};this.turnOff=function(){self.virtualWrite(this.pin,0)}};if(needsEmitter()){util.inherits(this.VirtualPin,events.EventEmitter);util.inherits(this.WidgetBridge,events.EventEmitter);util.inherits(this.WidgetTerminal,events.EventEmitter)}if(!options.skip_connect){this.connect()}};if(needsEmitter()){util.inherits(Blynk,events.EventEmitter)}Blynk.prototype.onReceive=function(data){var self=this;self.buff_in+=data;while(self.buff_in.length>=5){var msg_type=self.buff_in.charCodeAt(0);var msg_id=self.buff_in.charCodeAt(1)<<8|self.buff_in.charCodeAt(2);var msg_len=self.buff_in.charCodeAt(3)<<8|self.buff_in.charCodeAt(4);if(msg_id===0){return self.disconnect()}if(msg_type===MsgType.RSP){if(!self.profile){if(self.timerConn&&msg_id===1){if(msg_len===MsgStatus.OK||msg_len===MsgStatus.ALREADY_REGISTERED){clearInterval(self.timerConn);self.timerConn=null;self.timerHb=setInterval(function(){self.sendMsg(MsgType.PING)},self.heartbeat);console.log("Authorized");self.sendMsg(MsgType.INTERNAL,["ver","0.4.7","dev","js"]);self.emit("connect")}else{console.log("Could not login:",string_of_enum(MsgStatus,msg_len));if(msg_len===MsgStatus.INVALID_TOKEN){self.emit("error",string_of_enum(MsgStatus,msg_len));self.disconnect();if(self.timerConn){console.log("clear conn timer");clearInterval(self.timerConn);self.timerConn=null}}}}}self.buff_in=self.buff_in.substr(5);continue}if(msg_len>1024){return self.disconnect()}if(self.buff_in.length<msg_len+5){return}var values=self.buff_in.substr(5,msg_len).split("\x00");self.buff_in=self.buff_in.substr(msg_len+5);if(msg_type===MsgType.LOGIN||msg_type===MsgType.PING){self.sendRsp(MsgType.RSP,msg_id,MsgStatus.OK)}else if(msg_type===MsgType.GET_TOKEN){self.sendRsp(MsgType.GET_TOKEN,msg_id,self.auth.length,self.auth)}else if(msg_type===MsgType.LOAD_PROF){self.sendRsp(MsgType.LOAD_PROF,msg_id,self.profile.length,self.profile)}else if(msg_type===MsgType.HW||msg_type===MsgType.BRIDGE){if(values[0]==="vw"){var pin=parseInt(values[1]);if(self.vpins[pin]){self.vpins[pin].emit("write",values.slice(2))}}else if(values[0]==="vr"){var pin=parseInt(values[1]);if(self.vpins[pin]){self.vpins[pin].emit("read")}}else if(self.board.process(values)){}else{console.log("Invalid cmd: ",values[0])}}else if(msg_type===MsgType.REDIRECT){self.conn.addr=values[0];if(values[1]){self.conn.port=parseInt(values[1])}console.log("Redirecting to ",self.conn.addr,":",self.conn.port);self.disconnect()}else if(msg_type===MsgType.DEBUG_PRINT){console.log("Server: ",values[0])}else if(msg_type===MsgType.REGISTER||msg_type===MsgType.SAVE_PROF||msg_type===MsgType.INTERNAL||msg_type===MsgType.ACTIVATE||msg_type===MsgType.DEACTIVATE||msg_type===MsgType.REFRESH){}else{console.log("Invalid msg type: ",msg_type);self.sendRsp(MsgType.RSP,msg_id,MsgStatus.ILLEGAL_COMMAND)}}};Blynk.prototype.sendRsp=function(msg_type,msg_id,msg_len,data){var self=this;data=data||"";msg_id=msg_id||self.msg_id++;if(msg_type==MsgType.RSP){data=blynkHeader(msg_type,msg_id,msg_len)}else{data=blynkHeader(msg_type,msg_id,msg_len)+data}self.conn.write(data)};Blynk.prototype.sendMsg=function(msg_type,values,msg_id){var values=values||[""];var data=values.join("\x00");this.sendRsp(msg_type,msg_id,data.length,data)};Blynk.prototype.connect=function(){var self=this;var doConnect=function(){if(self.conn){self.conn.removeAllListeners()}self.conn.connect(function(){self.conn.on("data",function(data){self.onReceive(data)});self.conn.on("end",function(){self.end()});self.sendRsp(MsgType.LOGIN,1,self.auth.length,self.auth)});self.conn.on("error",function(err){self.error(err)})};if(self.profile){doConnect()}else{self.timerConn=setInterval(doConnect,1e4);doConnect()}};Blynk.prototype.disconnect=function(reconnect){console.log("Disconnect blynk");if(typeof reconnect==="undefined"){reconnect=true}var self=this;this.conn.disconnect();if(this.timerHb){clearInterval(this.timerHb);this.timerHb=null}this.emit("disconnect");this.conn.removeAllListeners();if(reconnect&&!self.timerConn){console.log("REARMING DISCONNECT");setTimeout(function(){self.connect()},5e3)}};Blynk.prototype.error=function(err){var self=this;this.emit("error",err.code?err.code:"ERROR");console.error("Error",err.code);if(!self.timerConn){setTimeout(function(){self.connect()},5e3)}};Blynk.prototype.end=function(){var self=this;self.disconnect()};Blynk.prototype.virtualWrite=function(pin,val){this.sendMsg(MsgType.HW,["vw",pin].concat(val))};Blynk.prototype.setProperty=function(pin,prop,val){this.sendMsg(MsgType.PROPERTY,[pin,prop].concat(val))};Blynk.prototype.syncAll=function(){this.sendMsg(MsgType.HW_SYNC)};Blynk.prototype.syncVirtual=function(pin){this.sendMsg(MsgType.HW_SYNC,["vr",pin])};Blynk.prototype.email=function(to,topic,message){this.sendMsg(MsgType.EMAIL,[to,topic,message])};Blynk.prototype.notify=function(message){this.sendMsg(MsgType.NOTIFY,[message])};Blynk.prototype.tweet=function(message){this.sendMsg(MsgType.TWEET,[message])};Blynk.prototype.sms=function(message){this.sendMsg(MsgType.SMS,[message])};if(typeof module!=="undefined"&&"exports"in module){exports.Blynk=Blynk;if(isEspruino()){exports.EspruinoSerial=EspruinoSerial;exports.EspruinoTCP=EspruinoTCP;exports.BoardLinux=BoardEspruinoLinux;exports.BoardPico=BoardEspruinoPico}else if(isBrowser()){exports.WsClient=bl_browser.WsClient}else if(isNode()){exports.TcpClient=bl_node.TcpClient;exports.TcpServer=bl_node.TcpServer;exports.SslClient=bl_node.SslClient;exports.SslServer=bl_node.SslServer;exports.BoardOnOff=bl_node.BoardOnOff;exports.BoardMRAA=bl_node.BoardMRAA}}}).call(this,require("_process"))},{"./blynk-browser.js":1,"./blynk-node.js":4,_process:6,events:5,net:3,util:9}],3:[function(require,module,exports){},{}],4:[function(require,module,exports){arguments[4][3][0].apply(exports,arguments)},{dup:3}],5:[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type==="error"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}else{var err=new Error('Uncaught, unspecified "error" event. ('+er+")");err.context=er;throw err}}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1);listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[type].length);if(typeof console.trace==="function"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError("listener must be a function");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit("removeListener",type,listener)}else if(isObject(list)){for(i=length;i-->0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit("removeListener",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else if(listeners){while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;else if(evlistener)return evlistener.length}return 0};EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)};function isFunction(arg){return typeof arg==="function"}function isNumber(arg){return typeof arg==="number"}function isObject(arg){return typeof arg==="object"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],6:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],7:[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],8:[function(require,module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},{}],9:[function(require,module,exports){(function(process,global){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};exports.deprecate=function(fn,msg){if(isUndefined(global.process)){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}if(process.noDeprecation===true){return fn}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))debugEnviron=process.env.NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set]){if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2)}else{str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=require("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=require("inherits");exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":8,_process:6,inherits:7}]},{},[2])(2)});